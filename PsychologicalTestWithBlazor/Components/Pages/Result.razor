@page "/result/{totalChoiceValue:int}"
@inject IDefinePsychotypeService DefinePsychotypeService
@using PsychologicalTestWithBlazor.Components.Models
@using PsychologicalTestWithBlazor.Components.Services.Abstractions
@using PsychologicalTestWithBlazor.Components.Pages.PagesComponents.ResultPageComponents

<PageInitialization totalChoiceValue="totalChoiceValue"
                    psychotype="@definition.psychotype"
                    info="@definition.info"
                    recommendations="@definition.recommendations" />

@code {
    [Parameter]
    public int totalChoiceValue { get; set; }
    public PchyhotypeDefinition definition;

    protected override void OnInitialized()
    {
        definition = DefinePsychotype();
    }

    private PchyhotypeDefinition DefinePsychotype()
    {
        return DefinePsychotypeService.Define(totalChoiceValue);
    }
}